#!groovy.

def loadProperties() {
        checkout scm
        properties = readProperties file: 'job.properties'
        echo "Immediate one job.properties.PROJECT_NAME"
    }

node {
    
    stage ('Checkout'){

        checkout([$class: 'GitSCM', branches: [[name: '**']],
                  doGenerateSubmoduleConfigurations: false,
                  extensions: [[$class: 'CleanBeforeCheckout']],
                  submoduleCfg: [],
                  userRemoteConfigs: [[credentialsId: '7b5f3a4d-e607-422a-85cf-8a99faaf98f9', name: 'origin', url: 'git@github.com:ravitejaops/helloworld-java-maven.git']]])

    }

   stage ('Build'){
       def mavenHome=tool name: 'Maven', type: 'maven'
       sh  "${mavenHome}/bin/mvn clean"

    }


    /*stage ('Deploy to Artifactory'){

    }*/

    /*stage ('TriggerOtherBuild'){
    build job: "NEW-HELLOWORLD", parameters: [[$class: 'StringParameterValue', name: 'build', value: '$path']]
    }
     */
}
